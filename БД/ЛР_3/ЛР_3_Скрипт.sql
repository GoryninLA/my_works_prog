CREATE TABLE authors (
    author_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    surname VARCHAR(50),
    birth_date DATE
);


CREATE TABLE genres (
    genre_id INT AUTO_INCREMENT PRIMARY KEY,
    genre_name VARCHAR(50) NOT NULL,
    description TEXT
);


CREATE TABLE publishers (
    publisher_id INT AUTO_INCREMENT PRIMARY KEY,
    publisher_name VARCHAR(100),
    country VARCHAR(50),
    founded_year DATE
);


CREATE TABLE books (
    book_id INT AUTO_INCREMENT PRIMARY KEY,
    author_id INT NOT NULL,
    title VARCHAR(100) NOT NULL,
    publication_year DATE NOT NULL,
    genre_id INT NOT NULL,
    publisher_id INT,
    CONSTRAINT fk_books_author FOREIGN KEY (author_id) REFERENCES authors(author_id),
    CONSTRAINT fk_books_genre FOREIGN KEY (genre_id) REFERENCES genres(genre_id),
    CONSTRAINT fk_books_publisher FOREIGN KEY (publisher_id) REFERENCES publishers(publisher_id)
);


CREATE TABLE readers (
    reader_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    surname VARCHAR(50),
    email VARCHAR(100) NOT NULL,
    registration_date DATE NOT NULL,
    phone VARCHAR(15)
);


CREATE TABLE book_copies (
    copy_id INT AUTO_INCREMENT PRIMARY KEY,
    book_id INT NOT NULL,
    inventory_number VARCHAR(20) NOT NULL UNIQUE,
    status VARCHAR(20),
    acquisition_date DATE,
    book_condition VARCHAR(50),
    CONSTRAINT fk_copy_book FOREIGN KEY (book_id) REFERENCES books(book_id)
);


CREATE TABLE loans (
    loan_id INT AUTO_INCREMENT PRIMARY KEY,
    copy_id INT NOT NULL,
    reader_id INT NOT NULL,
    loan_date DATE NOT NULL,
    due_date DATE NOT NULL,
    return_date DATE,
    CONSTRAINT fk_loan_copy FOREIGN KEY (copy_id) REFERENCES book_copies(copy_id),
    CONSTRAINT fk_loan_reader FOREIGN KEY (reader_id) REFERENCES readers(reader_id)
);




INSERT INTO authors (first_name, last_name, surname, birth_date) VALUES
('Александр', 'Пушкин', 'Сергеевич', '1799-06-06'),
('Михаил', 'Лермонтов', 'Юрьевич', '1814-10-15'),
('Лев', 'Толстой', 'Николаевич', '1828-09-09'),
('Фёдор', 'Достоевский', 'Михайлович', '1821-11-11'),
('Иван', 'Тургенев', 'Сергеевич', '1818-11-09'),
('Антон', 'Чехов', 'Павлович', '1860-01-29'),
('Николай', 'Гоголь', 'Васильевич', '1809-03-31'),
('Максим', 'Горький', NULL, '1868-03-28'),
('Алексей', 'Толстой', 'Николаевич', '1883-01-10'),
('Иван', 'Бунин', 'Алексеевич', '1870-10-22'),
('Сергей', 'Есенин', 'Александрович', '1895-10-03'),
('Владимир', 'Маяковский', 'Владимирович', '1893-07-19'),
('Андрей', 'Белый', NULL, '1880-10-26'),
('Борис', 'Пастернак', 'Леонидович', '1890-02-10'),
('Марина', 'Цветаева', 'Ивановна', '1892-10-08'),
('Анна', 'Ахматова', 'Андреевна', '1889-06-23'),
('Иосиф', 'Бродский', 'Александрович', '1940-05-24'),
('Владимир', 'Набоков', 'Владимирович', '1899-04-22'),
('Александр', 'Блок', 'Александрович', '1880-11-28'),
('Константин', 'Бальмонт', 'Дмитриевич', '1867-06-15'),
('Илья', 'Ильф', NULL, '1897-10-15'),
('Евгений', 'Петров', NULL, '1902-12-13'),
('Аркадий', 'Гайдар', NULL, '1904-01-22'),
('Корней', 'Чуковский', NULL, '1882-03-31'),
('Самуил', 'Маршак', 'Яковлевич', '1887-11-03'),
('Агния', 'Барто', 'Львовна', '1906-02-17'),
('Владимир', 'Короленко', 'Галактионович', '1853-07-27'),
('Александр', 'Куприн', 'Иванович', '1870-09-07'),
('Иван', 'Шмелёв', 'Сергеевич', '1873-09-21'),
('Александр', 'Грин', NULL, '1880-08-23'),
('Даниил', 'Гранин', NULL, '1919-01-01'),
('Виктор', 'Астафьев', 'Петрович', '1924-05-01'),
('Валентин', 'Распутин', 'Григорьевич', '1937-03-15'),
('Чингиз', 'Айтматов', NULL, '1928-12-12'),
('Юрий', 'Бондарев', NULL, '1924-03-15'),
('Василий', 'Шукшин', 'Макарович', '1929-07-25'),
('Александр', 'Солженицын', 'Исаевич', '1918-12-11'),
('Михаил', 'Булгаков', 'Афанасьевич', '1891-05-15'),
('Дмитрий', 'Глуховский', NULL, '1979-06-12'),
('Борис', 'Акунин', NULL, '1956-05-20'),
('Татьяна', 'Толстая', 'Никитична', '1951-05-03'),
('Людмила', 'Улицкая', NULL, '1943-02-21'),
('Виктор', 'Пелевин', NULL, '1962-11-22'),
('Сергей', 'Лукьяненко', NULL, '1968-04-11'),
('Андрей', 'Рубанов', NULL, '1969-03-01'),
('Алексей', 'Иванов', NULL, '1969-11-23'),
('Мария', 'Степанова', NULL, '1972-06-09'),
('Евгений', 'Водолазкин', NULL, '1964-02-21'),
('Гузель', 'Яхина', NULL, '1977-06-06'),
('Александр', 'Проханов', 'Андреевич', '1938-02-26'),
('Владимир', 'Сорокин', 'Георгиевич', '1955-08-07'),
('Уильям', 'Шекспир', NULL, '1564-04-23'),
('Чарльз', 'Диккенс', NULL, '1812-02-07'),
('Джейн', 'Остин', NULL, '1775-12-16'),
('Марк', 'Твен', NULL, '1835-11-30'),
('Эрнест', 'Хемингуэй', NULL, '1899-07-21'),
('Фрэнсис Скотт', 'Фицджеральд', NULL, '1896-09-24'),
('Джордж', 'Оруэлл', NULL, '1903-06-25'),
('Агата', 'Кристи', NULL, '1890-09-15'),
('Джоан', 'Роулинг', NULL, '1965-07-31'),
('Стивен', 'Кинг', NULL, '1947-09-21'),
('Джон Рональд Руэл', 'Толкин', NULL, '1892-01-03'),
('Клайв Стейплз', 'Льюис', NULL, '1898-11-29'),
('Харпер', 'Ли', NULL, '1926-04-28'),
('Артур', 'Конан Дойл', NULL, '1859-05-22'),
('Оскар', 'Уайльд', NULL, '1854-10-16'),
('Эмили', 'Бронте', NULL, '1818-07-30'),
('Шарлотта', 'Бронте', NULL, '1816-04-21'),
('Джеймс', 'Джойс', NULL, '1882-02-02'),
('Франц', 'Кафка', NULL, '1883-07-03'),
('Альбер', 'Камю', NULL, '1913-11-07'),
('Виктор', 'Гюго', NULL, '1802-02-26'),
('Гюстав', 'Флобер', NULL, '1821-12-12'),
('Герман', 'Гессе', NULL, '1877-07-02'),
('Габриэль Гарсиа', 'Маркес', NULL, '1927-03-06'),
('Пауло', 'Коэльо', NULL, '1947-08-24'),
('Харуки', 'Мураками', NULL, '1949-01-12'),
('Кобо', 'Абэ', NULL, '1924-03-07'),
('Умберто', 'Эко', NULL, '1932-01-05'),
('Фредерик', 'Бегбедер', NULL, '1965-09-21'),
('Джордж', 'Мартин', NULL, '1948-09-20'),
('Нил', 'Гейман', NULL, '1960-11-10'),
('Сьюзен', 'Коллинз', NULL, '1962-08-10'),
('Дэн', 'Браун', NULL, '1964-06-22'),
('Харуки', 'Мураками', NULL, '1949-01-12'),
('Кадзуо', 'Исигуро', NULL, '1954-11-08'),
('Мишель', 'Уэльбек', NULL, '1956-02-26'),
('Маргарет', 'Этвуд', NULL, '1939-11-18'),
('Салман', 'Рушди', NULL, '1947-06-19'),
('Иэн', 'Макьюэн', NULL, '1948-06-21'),
('Джон', 'Грин', NULL, '1977-08-24'),
('Элизабет', 'Гилберт', NULL, '1969-07-18'),
('Джо', 'Нэссбо', NULL, '1960-03-29'),
('Стивен', 'Фрай', NULL, '1957-08-24'),
('Кен', 'Фоллетт', NULL, '1949-06-05'),
('Харуки', 'Мураками', NULL, '1949-01-12'),
('Донна', 'Тартт', NULL, '1963-12-23'),
('Чак', 'Паланик', NULL, '1962-02-21'),
('Энн', 'Райс', NULL, '1941-10-04'),
('Патрик', 'Зюскинд', NULL, '1949-03-26'),
('Джон', 'Толкин', NULL, '1892-01-03');



INSERT INTO genres (genre_name, description) VALUES
('Роман', 'Произведение большой формы, раскрывающее жизнь героев и их внутренний мир.'),
('Повесть', 'Прозаическое произведение средней длины, с одним основным сюжетом.'),
('Рассказ', 'Короткое прозаическое произведение, описывающее отдельный эпизод или событие.'),
('Новелла', 'Небольшое произведение с неожиданной развязкой и остротой сюжета.'),
('Поэзия', 'Лирические произведения в стихотворной форме.'),
('Драма', 'Произведение, предназначенное для постановки на сцене.'),
('Комедия', 'Драматическое произведение с юмористическим или сатирическим содержанием.'),
('Трагедия', 'Драматическое произведение с серьёзным, часто печальным исходом.'),
('Фэнтези', 'Жанр, в котором действуют магия и вымышленные миры.'),
('Фантастика', 'Произведения о вымышленных мирах и научных открытиях.'),
('Научная фантастика', 'Фантастика, основанная на научных идеях и технологиях.'),
('Мистика', 'Жанр, основанный на сверхъестественных явлениях.'),
('Ужасы', 'Произведения, вызывающие страх и напряжение.'),
('Детектив', 'Произведения о расследовании преступлений.'),
('Триллер', 'Жанр, создающий сильное напряжение и ожидание опасности.'),
('Шпионский роман', 'Произведения о шпионах и тайных операциях.'),
('Приключения', 'Динамичные произведения о путешествиях и опасностях.'),
('Исторический роман', 'Произведения, действие которых происходит в прошлом.'),
('Биография', 'Описание жизни реального человека.'),
('Мемуары', 'Воспоминания автора о событиях его жизни.'),
('Автобиография', 'История жизни, написанная самим автором.'),
('Документальная проза', 'Произведения, основанные на реальных фактах и документах.'),
('Роман о любви', 'Произведения, посвящённые романтическим отношениям.'),
('Психологический роман', 'Роман, исследующий внутренний мир героев.'),
('Философская проза', 'Произведения, затрагивающие вопросы смысла жизни и морали.'),
('Сатира', 'Жанр, высмеивающий человеческие пороки и недостатки общества.'),
('Юмор', 'Произведения, вызывающие смех и весёлое настроение.'),
('Социальная проза', 'Литература, затрагивающая общественные проблемы.'),
('Политический роман', 'Произведения о власти, идеологии и государстве.'),
('Антиутопия', 'Фантастический жанр о мрачном будущем общества.'),
('Утопия', 'Произведения о совершенном, идеальном обществе.'),
('Реализм', 'Жанр, изображающий жизнь без преувеличений и фантазии.'),
('Магический реализм', 'Сочетание реальности и фантастических элементов.'),
('Абсурдизм', 'Произведения, в которых подчеркивается бессмысленность человеческого существования.'),
('Эпопея', 'Крупное произведение, описывающее важные исторические события.'),
('Летопись', 'Хронологическое описание событий.'),
('Эссе', 'Короткое рассуждение на свободную тему.'),
('Публицистика', 'Произведения на злободневные темы общественной жизни.'),
('Постмодернизм', 'Жанр, играющий с формами и смыслами литературы.'),
('Модернизм', 'Литературное направление начала XX века, отрицающее традиционные формы.'),
('Экзистенциализм', 'Философско-литературный жанр о поиске смысла жизни.'),
('Роман воспитания', 'Произведения о формировании личности героя.'),
('Юношеская литература', 'Произведения, рассчитанные на молодую аудиторию.'),
('Детская литература', 'Произведения для детей разных возрастов.'),
('Сказка', 'Фантастическое повествование с элементами волшебства.'),
('Аллегория', 'Произведения с иносказательным смыслом.'),
('Притча', 'Короткое поучительное произведение с моралью.'),
('Эпос', 'Жанр, повествующий о судьбах народов и героев.'),
('Пародия', 'Юмористическое подражание известным произведениям.'),
('Готическая литература', 'Мрачные и мистические произведения, часто с элементами ужаса.'),
('Киберпанк', 'Фантастический жанр о будущем, где технологии сочетаются с упадком общества.');



INSERT INTO publishers (publisher_name, country, founded_year) VALUES
('Издательство АСТ', 'Россия', '1990-01-01'),
('Эксмо', 'Россия', '1991-01-01'),
('Манн, Иванов и Фербер', 'Россия', '2005-01-01'),
('Просвещение', 'Россия', '1930-01-01'),
('Питер', 'Россия', '1991-01-01'),
('Росмэн', 'Россия', '1992-01-01'),
('Азбука-Аттикус', 'Россия', '2008-01-01'),
('Олма Медиа Групп', 'Россия', '1991-01-01'),
('Рипол Классик', 'Россия', '1995-01-01'),
('Белый город', 'Россия', '1993-01-01'),
('HarperCollins', 'США', '1989-01-01'),
('Penguin Books', 'Великобритания', '1935-01-01'),
('Random House', 'США', '1927-01-01'),
('Simon & Schuster', 'США', '1924-01-01'),
('Macmillan Publishers', 'Великобритания', '1843-01-01'),
('Hachette Livre', 'Франция', '1826-01-01'),
('Scholastic Corporation', 'США', '1920-01-01'),
('Bloomsbury Publishing', 'Великобритания', '1986-01-01'),
('Oxford University Press', 'Великобритания', '1586-01-01'),
('Cambridge University Press', 'Великобритания', '1534-01-01'),
('Springer', 'Германия', '1842-01-01'),
('Pearson Education', 'Великобритания', '1844-01-01'),
('McGraw-Hill Education', 'США', '1888-01-01'),
('Wiley', 'США', '1807-01-01'),
('Pan Macmillan', 'Великобритания', '1944-01-01'),
('Harlequin Enterprises', 'Канада', '1949-01-01'),
('DK Publishing', 'Великобритания', '1974-01-01'),
('Tor Books', 'США', '1980-01-01'),
('Orbit Books', 'Великобритания', '1974-01-01'),
('Little, Brown and Company', 'США', '1837-01-01'),
('Knopf Publishing Group', 'США', '1915-01-01'),
('Vintage Books', 'США', '1954-01-01'),
('Scribner', 'США', '1846-01-01'),
('Faber and Faber', 'Великобритания', '1929-01-01'),
('Canongate Books', 'Великобритания', '1973-01-01'),
('Granta Books', 'Великобритания', '1989-01-01'),
('Gollancz', 'Великобритания', '1927-01-01'),
('Penguin Random House Grupo Editorial', 'Испания', '2013-01-01'),
('Planeta', 'Испания', '1949-01-01'),
('Mondadori', 'Италия', '1907-01-01'),
('Feltrinelli Editore', 'Италия', '1954-01-01'),
('Gallimard', 'Франция', '1911-01-01'),
('Albin Michel', 'Франция', '1900-01-01'),
('Suhrkamp Verlag', 'Германия', '1950-01-01'),
('Rowohlt Verlag', 'Германия', '1908-01-01'),
('Hanser Verlag', 'Германия', '1928-01-01'),
('Shueisha', 'Япония', '1925-01-01'),
('Kodansha', 'Япония', '1909-01-01'),
('Shogakukan', 'Япония', '1922-01-01'),
('Kyobo Book Centre', 'Южная Корея', '1980-01-01'),
('China Publishing Group', 'Китай', '2002-01-01'),
('Beijing Publishing Group', 'Китай', '1952-01-01'),
('Grupo Clarín', 'Аргентина', '1945-01-01'),
('Editora Globo', 'Бразилия', '1952-01-01'),
('Alfaguara', 'Испания', '1964-01-01'),
('Editorial Norma', 'Колумбия', '1960-01-01'),
('Grupo SM', 'Испания', '1938-01-01'),
('Editora Record', 'Бразилия', '1940-01-01'),
('Random House Australia', 'Австралия', '1950-01-01'),
('Allen & Unwin', 'Австралия', '1914-01-01'),
('Text Publishing', 'Австралия', '1990-01-01'),
('Penguin India', 'Индия', '1985-01-01'),
('Rupa Publications', 'Индия', '1936-01-01'),
('HarperCollins India', 'Индия', '1992-01-01'),
('Anagrama', 'Испания', '1969-01-01'),
('TarcherPerigee', 'США', '1973-01-01'),
('Chronicle Books', 'США', '1967-01-01'),
('New Directions', 'США', '1936-01-01'),
('Secker & Warburg', 'Великобритания', '1935-01-01'),
('Pushkin Press', 'Великобритания', '1997-01-01'),
('Europa Editions', 'Италия', '2005-01-01'),
('Verso Books', 'Великобритания', '1970-01-01'),
('MIT Press', 'США', '1962-01-01'),
('Yale University Press', 'США', '1908-01-01'),
('Princeton University Press', 'США', '1905-01-01');




INSERT INTO books (author_id, title, publication_year, genre_id, publisher_id) VALUES
(1, 'Преступление и наказание', '1866-01-01', 4, 1),
(2, 'Война и мир', '1869-01-01', 10, 1),
(3, 'Анна Каренина', '1877-01-01', 10, 2),
(4, 'Мастер и Маргарита', '1967-01-01', 2, 7),
(5, 'Отцы и дети', '1862-01-01', 10, 3),
(6, 'Евгений Онегин', '1833-01-01', 1, 4),
(7, 'Герой нашего времени', '1840-01-01', 1, 5),
(8, 'Тихий Дон', '1940-01-01', 10, 2),
(9, 'Доктор Живаго', '1957-01-01', 10, 6),
(10, 'Обломов', '1859-01-01', 10, 3),
(11, 'Мертвые души', '1842-01-01', 5, 4),
(12, 'Чевенгур', '1928-01-01', 5, 7),
(13, 'Дети Арбата', '1966-01-01', 5, 2),
(14, 'Трудно быть богом', '1964-01-01', 9, 5),
(15, 'Пикник на обочине', '1972-01-01', 9, 6),
(16, 'Собачье сердце', '1925-01-01', 2, 4),
(17, 'Белая гвардия', '1925-01-01', 10, 3),
(18, 'Записки из подполья', '1864-01-01', 4, 2),
(19, 'Идиот', '1869-01-01', 4, 1),
(20, 'Братья Карамазовы', '1880-01-01', 4, 1),
(21, '1984', '1949-01-01', 9, 11),
(22, 'Убить пересмешника', '1960-01-01', 4, 18),
(23, 'Великий Гэтсби', '1925-01-01', 4, 31),
(24, 'Старик и море', '1952-01-01', 4, 32),
(25, 'Гарри Поттер и философский камень', '1997-01-01', 2, 18),
(26, 'Властелин колец', '1954-01-01', 9, 11),
(27, 'Хроники Нарнии', '1950-01-01', 2, 18),
(28, 'Портрет Дориана Грея', '1890-01-01', 4, 35),
(29, 'О дивный новый мир', '1932-01-01', 9, 13),
(30, '451 градус по Фаренгейту', '1953-01-01', 9, 11),
(31, 'Шерлок Холмс. Собака Баскервилей', '1902-01-01', 3, 31),
(32, 'Над пропастью во ржи', '1951-01-01', 4, 32),
(33, 'Процесс', '1925-01-01', 4, 42),
(34, 'Замок', '1926-01-01', 4, 43),
(35, 'Посторонний', '1942-01-01', 4, 41),
(36, 'Чума', '1947-01-01', 4, 41),
(37, 'Имя розы', '1980-01-01', 3, 43),
(38, 'Сто лет одиночества', '1967-01-01', 10, 40),
(39, 'Алхимик', '1988-01-01', 2, 39),
(40, 'Норвежский лес', '1987-01-01', 4, 46),
(41, 'Кафка на пляже', '2002-01-01', 9, 47),
(42, 'Бойцовский клуб', '1996-01-01', 4, 39),
(43, 'Американский психопат', '1991-01-01', 4, 35),
(44, 'Щегол', '2013-01-01', 4, 18),
(45, 'Исчезнувшая', '2012-01-01', 3, 18),
(46, 'Девушка с татуировкой дракона', '2005-01-01', 3, 36),
(47, 'Марсианин', '2011-01-01', 9, 39),
(48, 'Песнь льда и огня: Игра престолов', '1996-01-01', 9, 18),
(49, 'Дюна', '1965-01-01', 9, 43),
(50, 'Цветы для Элджернона', '1959-01-01', 9, 31);



INSERT INTO readers (first_name, last_name, surname, email, registration_date, phone) VALUES
('Алексей', 'Иванов', 'Петрович', 'alexey.ivanov@mail.ru', '2022-05-01', '8(916)245-18-72'),
('Мария', 'Смирнова', 'Андреевна', 'maria.smirnova@yandex.ru', '2022-06-10', '8(903)512-67-43'),
('Дмитрий', 'Кузнецов', 'Сергеевич', 'dmitriy.kuznetsov@gmail.com', '2022-07-15', '8(905)774-92-10'),
('Анна', 'Попова', 'Владимировна', 'anna.popova@mail.ru', '2022-08-12', '8(926)381-54-29'),
('Иван', 'Соколов', 'Алексеевич', 'ivan.sokolov@yandex.ru', '2022-09-18', '8(977)635-47-82'),
('Ольга', 'Лебедева', 'Николаевна', 'olga.lebedeva@gmail.com', '2022-10-05', '8(915)283-66-04'),
('Сергей', 'Морозов', 'Павлович', 'sergey.morozov@mail.ru', '2023-01-21', '8(918)452-19-33'),
('Екатерина', 'Волкова', 'Игоревна', 'ekaterina.volkova@yandex.ru', '2023-02-14', '8(985)719-24-58'),
('Николай', 'Фёдоров', 'Михайлович', 'nikolay.fedorov@mail.ru', '2023-03-30', '8(999)623-88-75'),
('Татьяна', 'Алексеева', 'Викторовна', 'tatyana.alekseeva@gmail.com', '2023-04-09', '8(901)257-03-91'),
('Павел', 'Григорьев', 'Андреевич', 'pavel.grigorev@mail.ru', '2023-05-12', '8(903)844-51-29'),
('Наталья', 'Михайлова', 'Сергеевна', 'natalia.mihailova@yandex.ru', '2023-06-03', '8(925)116-88-02'),
('Владимир', 'Новиков', 'Иванович', 'vladimir.novikov@gmail.com', '2023-06-15', '8(926)743-77-61'),
('Елена', 'Козлова', 'Дмитриевна', 'elena.kozlova@mail.ru', '2023-06-30', '8(999)154-27-85'),
('Роман', 'Соловьёв', 'Петрович', 'roman.solovev@yandex.ru', '2023-07-01', '8(904)482-66-90'),
('Светлана', 'Егорова', 'Николаевна', 'svetlana.egorova@mail.ru', '2023-07-18', '8(915)732-48-52'),
('Максим', 'Орлов', 'Викторович', 'maxim.orlov@gmail.com', '2023-07-29', '8(977)962-33-11'),
('Анастасия', 'Макарова', 'Алексеевна', 'anastasia.makarova@yandex.ru', '2023-08-08', '8(910)372-55-07'),
('Виктор', 'Зайцев', 'Романович', 'victor.zaytsev@mail.ru', '2023-08-15', '8(903)643-70-92'),
('Евгения', 'Беляева', 'Андреевна', 'evgenia.belyaeva@mail.ru', '2023-08-21', '8(929)251-81-03'),
('Артем', 'Комаров', 'Владимирович', 'artem.komarov@yandex.ru', '2023-09-02', '8(916)514-27-60'),
('Валерия', 'Киселева', 'Олеговна', 'valeria.kiseleva@mail.ru', '2023-09-09', '8(904)198-23-74'),
('Егор', 'Тихонов', 'Алексеевич', 'egor.tikhonov@gmail.com', '2023-09-15', '8(915)862-49-35'),
('Полина', 'Жукова', 'Павловна', 'polina.zhukova@yandex.ru', '2023-09-21', '8(999)462-93-14'),
('Константин', 'Сорокин', 'Сергеевич', 'konstantin.sorokin@mail.ru', '2023-09-28', '8(985)281-57-28'),
('Алина', 'Васильева', 'Игоревна', 'alina.vasileva@gmail.com', '2023-10-02', '8(977)816-40-72'),
('Григорий', 'Мельников', 'Артемович', 'grigory.melnikov@yandex.ru', '2023-10-08', '8(901)732-29-50'),
('Вероника', 'Крылова', 'Станиславовна', 'veronika.krylova@mail.ru', '2023-10-15', '8(903)512-71-36'),
('Кирилл', 'Богданов', 'Ильич', 'kirill.bogdanov@yandex.ru', '2023-10-21', '8(916)495-77-88'),
('Дарья', 'Беспалова', 'Владимировна', 'daria.bespalova@mail.ru', '2023-10-27', '8(904)263-35-49'),
('Руслан', 'Логинов', 'Евгеньевич', 'ruslan.loginov@gmail.com', '2023-11-02', '8(915)612-84-20'),
('Юлия', 'Сидорова', 'Олеговна', 'yulia.sidorova@yandex.ru', '2023-11-10', '8(999)247-13-61'),
('Степан', 'Павлов', 'Андреевич', 'stepan.pavlov@mail.ru', '2023-11-18', '8(985)341-22-47'),
('Марина', 'Гусева', 'Петровна', 'marina.guseva@gmail.com', '2023-11-25', '8(977)503-44-62'),
('Андрей', 'Романов', 'Васильевич', 'andrey.romanov@yandex.ru', '2023-12-01', '8(901)983-29-70'),
('Оксана', 'Дмитриева', 'Сергеевна', 'oksana.dmitrieva@mail.ru', '2023-12-09', '8(903)865-50-13'),
('Михаил', 'Трофимов', 'Иванович', 'mikhail.trofimov@yandex.ru', '2023-12-16', '8(916)947-64-80'),
('Надежда', 'Никифорова', 'Александровна', 'nadezhda.nikiforova@gmail.com', '2023-12-20', '8(904)628-77-21'),
('Виталий', 'Панов', 'Геннадьевич', 'vitaly.panov@mail.ru', '2023-12-27', '8(915)304-16-59'),
('Инна', 'Калинина', 'Викторовна', 'inna.kalinina@yandex.ru', '2024-01-04', '8(999)841-50-08'),
('Артемий', 'Горшков', 'Максимович', 'artemy.gorshkov@mail.ru', '2024-01-12', '8(985)269-72-14'),
('Нина', 'Афанасьева', 'Павловна', 'nina.afanasieva@gmail.com', '2024-01-20', '8(977)658-10-92'),
('Валентин', 'Данилов', 'Алексеевич', 'valentin.danilov@yandex.ru', '2024-02-01', '8(901)234-85-36'),
('Тимофей', 'Куликов', 'Ильич', 'timofey.kulikov@mail.ru', '2024-02-10', '8(903)694-12-57'),
('Елизавета', 'Громова', 'Романовна', 'elizaveta.gromova@yandex.ru', '2024-02-20', '8(916)881-29-78'),
('Матвей', 'Беляков', 'Дмитриевич', 'matvey.belyakov@mail.ru', '2024-02-28', '8(904)710-98-35'),
('София', 'Мартынова', 'Ивановна', 'sofia.martynova@yandex.ru', '2024-03-10', '8(915)204-51-60'),
('Владислав', 'Рябов', 'Олегович', 'vladislav.ryabov@mail.ru', '2024-03-18', '8(999)698-73-41'),
('Алёна', 'Куликова', 'Сергеевна', 'alyona.kulikova@gmail.com', '2024-03-27', '8(985)307-49-03'),
('Станислав', 'Чернов', 'Павлович', 'stanislav.chernov@yandex.ru', '2024-04-05', '8(977)918-32-55'),
('Ирина', 'Осипова', 'Александровна', 'irina.osipova@mail.ru', '2024-04-12', '8(901)628-47-09');


INSERT INTO book_copies (book_id, inventory_number, status, acquisition_date, book_condition) VALUES
(1, 'INV0001', 'в наличии', '2018-03-12', 'хорошая'),
(1, 'INV0002', 'на руках', '2019-05-20', 'хорошая'),
(2, 'INV0003', 'в наличии', '2020-09-10', 'новая'),
(3, 'INV0004', 'в наличии', '2021-01-14', 'новая'),
(4, 'INV0005', 'в наличии', '2017-07-25', 'удовлетворительная'),
(4, 'INV0006', 'на руках', '2019-03-08', 'удовлетворительная'),
(5, 'INV0007', 'в наличии', '2020-12-03', 'новая'),
(6, 'INV0008', 'в наличии', '2016-09-22', 'ветхая'),
(7, 'INV0009', 'в наличии', '2018-04-10', 'удовлетворительная'),
(8, 'INV0010', 'списана', '2015-11-01', 'ветхая'),
(9, 'INV0011', 'в наличии', '2022-02-19', 'новая'),
(10, 'INV0012', 'в наличии', '2017-06-28', 'удовлетворительная'),
(11, 'INV0013', 'на руках', '2020-08-14', 'хорошая'),
(12, 'INV0014', 'в наличии', '2023-01-09', 'новая'),
(13, 'INV0015', 'в наличии', '2016-10-18', 'удовлетворительная'),
(14, 'INV0016', 'в наличии', '2018-05-12', 'хорошая'),
(15, 'INV0017', 'на руках', '2024-02-03', 'новая'),
(15, 'INV0018', 'в наличии', '2024-06-15', 'новая'),
(16, 'INV0019', 'в наличии', '2022-04-05', 'новая'),
(17, 'INV0020', 'списана', '2015-08-11', 'ветхая'),
(18, 'INV0021', 'в наличии', '2017-11-22', 'удовлетворительная'),
(19, 'INV0022', 'в наличии', '2019-09-30', 'хорошая'),
(20, 'INV0023', 'в наличии', '2020-03-19', 'новая'),
(21, 'INV0024', 'в наличии', '2023-05-14', 'новая'),
(22, 'INV0025', 'в наличии', '2024-01-01', 'новая'),
(23, 'INV0026', 'на руках', '2023-09-10', 'новая'),
(24, 'INV0027', 'в наличии', '2019-03-04', 'хорошая'),
(25, 'INV0028', 'в наличии', '2020-07-21', 'новая'),
(25, 'INV0029', 'на руках', '2021-11-19', 'хорошая'),
(26, 'INV0030', 'в наличии', '2023-03-13', 'новая'),
(27, 'INV0031', 'в наличии', '2022-10-17', 'новая'),
(28, 'INV0032', 'списана', '2015-12-29', 'ветхая'),
(29, 'INV0033', 'в наличии', '2021-08-22', 'новая'),
(30, 'INV0034', 'в наличии', '2017-01-30', 'удовлетворительная'),
(31, 'INV0035', 'в наличии', '2020-06-06', 'хорошая'),
(32, 'INV0036', 'на руках', '2022-07-01', 'новая'),
(33, 'INV0037', 'в наличии', '2023-12-10', 'новая'),
(34, 'INV0038', 'в наличии', '2021-03-03', 'хорошая'),
(35, 'INV0039', 'в наличии', '2018-09-25', 'удовлетворительная'),
(36, 'INV0040', 'в наличии', '2022-02-10', 'новая'),
(37, 'INV0041', 'в наличии', '2020-11-05', 'новая'),
(38, 'INV0042', 'в наличии', '2019-02-28', 'новая'),
(39, 'INV0043', 'на руках', '2023-05-20', 'новая'),
(40, 'INV0044', 'в наличии', '2021-09-09', 'новая'),
(41, 'INV0045', 'в наличии', '2022-06-22', 'новая'),
(42, 'INV0046', 'в наличии', '2023-08-30', 'новая'),
(43, 'INV0047', 'в наличии', '2024-02-18', 'новая'),
(44, 'INV0048', 'на руках', '2024-04-11', 'новая'),
(45, 'INV0049', 'в наличии', '2023-12-19', 'новая'),
(46, 'INV0050', 'в наличии', '2021-01-22', 'новая'),
(47, 'INV0051', 'в наличии', '2019-08-14', 'хорошая'),
(48, 'INV0052', 'в наличии', '2020-03-30', 'новая'),
(49, 'INV0053', 'в наличии', '2022-07-17', 'новая'),
(50, 'INV0054', 'в наличии', '2021-12-01', 'новая'),
(1, 'INV0055', 'в наличии', '2020-05-06', 'хорошая'),
(2, 'INV0056', 'в наличии', '2023-06-15', 'новая'),
(3, 'INV0057', 'в наличии', '2023-11-07', 'новая'),
(4, 'INV0058', 'в наличии', '2018-08-08', 'удовлетворительная'),
(5, 'INV0059', 'в наличии', '2021-09-19', 'новая'),
(6, 'INV0060', 'в наличии', '2019-05-05', 'ветхая'),
(7, 'INV0061', 'на руках', '2020-07-11', 'хорошая'),
(8, 'INV0062', 'в наличии', '2022-03-14', 'новая'),
(9, 'INV0063', 'в наличии', '2020-02-22', 'новая'),
(10, 'INV0064', 'в наличии', '2017-06-03', 'удовлетворительная'),
(11, 'INV0065', 'в наличии', '2024-03-30', 'новая'),
(12, 'INV0066', 'на руках', '2022-09-29', 'новая'),
(13, 'INV0067', 'в наличии', '2023-02-15', 'новая'),
(14, 'INV0068', 'в наличии', '2024-05-10', 'новая'),
(15, 'INV0069', 'в наличии', '2022-08-22', 'новая'),
(16, 'INV0070', 'в наличии', '2023-10-01', 'новая'),
(17, 'INV0071', 'в наличии', '2024-01-25', 'новая'),
(18, 'INV0072', 'в наличии', '2020-03-14', 'удовлетворительная'),
(19, 'INV0073', 'в наличии', '2021-04-12', 'новая'),
(20, 'INV0074', 'в наличии', '2022-05-19', 'новая'),
(21, 'INV0075', 'в наличии', '2023-07-23', 'новая'),
(22, 'INV0076', 'в наличии', '2023-09-01', 'новая'),
(23, 'INV0077', 'в наличии', '2024-04-03', 'новая'),
(24, 'INV0078', 'в наличии', '2024-06-14', 'новая'),
(25, 'INV0079', 'в наличии', '2022-10-12', 'новая'),
(26, 'INV0080', 'в наличии', '2023-01-02', 'новая'),
(27, 'INV0081', 'на руках', '2024-03-08', 'новая'),
(28, 'INV0082', 'в наличии', '2022-12-05', 'новая'),
(29, 'INV0083', 'в наличии', '2021-07-20', 'новая'),
(30, 'INV0084', 'в наличии', '2022-11-15', 'новая'),
(31, 'INV0085', 'в наличии', '2023-03-30', 'новая'),
(32, 'INV0086', 'в наличии', '2023-09-09', 'новая'),
(33, 'INV0087', 'в наличии', '2024-02-01', 'новая'),
(34, 'INV0088', 'в наличии', '2024-06-07', 'новая'),
(35, 'INV0089', 'в наличии', '2023-10-25', 'новая'),
(36, 'INV0090', 'в наличии', '2024-01-19', 'новая'),
(37, 'INV0091', 'в наличии', '2022-04-22', 'новая'),
(38, 'INV0092', 'в наличии', '2023-02-28', 'новая'),
(39, 'INV0093', 'в наличии', '2024-03-21', 'новая'),
(40, 'INV0094', 'в наличии', '2022-12-30', 'новая'),
(41, 'INV0095', 'в наличии', '2023-06-13', 'новая'),
(42, 'INV0096', 'в наличии', '2023-11-09', 'новая'),
(43, 'INV0097', 'в наличии', '2024-02-16', 'новая'),
(44, 'INV0098', 'в наличии', '2024-05-22', 'новая'),
(45, 'INV0099', 'в наличии', '2024-07-10', 'новая'),
(46, 'INV0100', 'в наличии', '2024-09-19', 'новая');



INSERT INTO loans (copy_id, reader_id, loan_date, due_date, return_date) VALUES
(1, 5, '2023-02-15', '2023-03-15', '2023-03-10'),
(2, 8, '2023-03-20', '2023-04-20', '2023-04-15'),
(3, 2, '2023-04-10', '2023-05-10', NULL),
(4, 10, '2023-05-25', '2023-06-25', '2023-06-19'),
(5, 3, '2023-06-12', '2023-07-12', '2023-07-03'),
(6, 12, '2023-07-05', '2023-08-05', NULL),
(7, 15, '2023-08-14', '2023-09-14', '2023-09-08'),
(8, 7, '2023-09-01', '2023-10-01', '2023-09-27'),
(9, 11, '2023-09-25', '2023-10-25', NULL),
(10, 14, '2023-10-12', '2023-11-12', '2023-11-02'),
(11, 20, '2023-11-05', '2023-12-05', '2023-11-30'),
(12, 22, '2023-11-19', '2023-12-19', '2023-12-10'),
(13, 25, '2023-12-10', '2024-01-10', NULL),
(14, 28, '2023-12-28', '2024-01-28', '2024-01-24'),
(15, 30, '2024-01-05', '2024-02-05', '2024-01-30'),
(16, 32, '2024-01-18', '2024-02-18', '2024-02-09'),
(17, 33, '2024-02-01', '2024-03-01', NULL),
(18, 35, '2024-02-11', '2024-03-11', '2024-03-07'),
(19, 37, '2024-03-03', '2024-04-03', '2024-03-30'),
(20, 39, '2024-03-15', '2024-04-15', NULL),
(21, 40, '2024-03-25', '2024-04-25', '2024-04-20'),
(22, 42, '2024-04-10', '2024-05-10', '2024-04-30'),
(23, 43, '2024-04-25', '2024-05-25', NULL),
(24, 44, '2024-05-06', '2024-06-06', '2024-05-30'),
(25, 46, '2024-05-20', '2024-06-20', '2024-06-14'),
(26, 47, '2024-06-01', '2024-07-01', '2024-06-27'),
(27, 48, '2024-06-10', '2024-07-10', NULL),
(28, 49, '2024-06-25', '2024-07-25', '2024-07-20'),
(29, 50, '2024-07-04', '2024-08-04', '2024-07-30'),
(30, 1, '2024-07-15', '2024-08-15', NULL),
(31, 3, '2024-08-01', '2024-09-01', '2024-08-27'),
(32, 4, '2024-08-12', '2024-09-12', '2024-09-05'),
(33, 6, '2024-08-25', '2024-09-25', NULL),
(34, 9, '2024-09-05', '2024-10-05', '2024-09-30'),
(35, 13, '2024-09-15', '2024-10-15', '2024-10-10'),
(36, 16, '2024-09-28', '2024-10-28', '2024-10-23'),
(37, 17, '2024-10-04', '2024-11-04', NULL),
(38, 18, '2024-10-12', '2024-11-12', '2024-11-05'),
(39, 19, '2024-10-24', '2024-11-24', '2024-11-20'),
(40, 21, '2024-11-02', '2024-12-02', '2024-11-25'),
(41, 23, '2024-11-15', '2024-12-15', NULL),
(42, 24, '2024-11-27', '2024-12-27', '2024-12-20'),
(43, 26, '2024-12-05', '2025-01-05', '2025-01-02'),
(44, 27, '2024-12-14', '2025-01-14', NULL),
(45, 29, '2024-12-22', '2025-01-22', NULL),
(46, 31, '2025-01-02', '2025-02-02', '2025-01-27'),
(47, 34, '2025-01-10', '2025-02-10', '2025-02-06'),
(48, 36, '2025-01-19', '2025-02-19', NULL),
(49, 38, '2025-02-01', '2025-03-01', NULL),
(50, 41, '2025-02-10', '2025-03-10', NULL),
(7, 1, '2023-09-01', '2023-09-15', '2023-09-10'),
(7, 2, '2023-09-20', '2023-10-05', '2023-10-02'),
(7, 3, '2023-10-10', '2023-10-25', '2023-10-22'),
(7, 4, '2023-11-01', '2023-11-16', '2023-11-15'),
(7, 5, '2023-12-01', '2023-12-16', NULL),
(7, 6, '2024-01-05', '2024-01-20', NULL);

SELECT 
    b.title AS book_title,
    CONCAT(r.first_name, ' ', r.last_name) AS reader_name,
    l.loan_date AS date_issued
FROM loans l
JOIN readers r ON l.reader_id = r.reader_id
JOIN book_copies c ON l.copy_id = c.copy_id
JOIN books b ON c.book_id = b.book_id
WHERE l.return_date IS NULL
ORDER BY l.loan_date DESC;



SELECT 
    CONCAT(a.first_name, ' ', a.last_name) AS author_name,
    COUNT(l.loan_id) AS quantity_issue
FROM loans l
JOIN book_copies c ON l.copy_id = c.copy_id
JOIN books b ON c.book_id = b.book_id
JOIN authors a ON b.author_id = a.author_id
GROUP BY a.author_id
HAVING COUNT(l.loan_id) > 5
ORDER BY COUNT(l.loan_id) DESC;

SELECT 
    CONCAT(r.first_name, ' ', r.last_name) AS reader,
    b.title AS book_name,
    l.loan_date AS loan_date,
    l.due_date AS due_date,
    DATEDIFF(CURDATE(), l.loan_date) AS lasts_day
FROM loans l
JOIN readers r ON l.reader_id = r.reader_id
JOIN book_copies c ON l.copy_id = c.copy_id
JOIN books b ON c.book_id = b.book_id
WHERE l.return_date IS NULL
  AND DATEDIFF(CURDATE(), l.loan_date) > 14
ORDER BY DATEDIFF(CURDATE(), l.loan_date) DESC;






 